!function(e){var t={};function l(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.m=e,l.c=t,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(n,r,function(t){return e[t]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/dist",l(l.s=0)}([function(e,t,l){"use strict";l.r(t);var n=()=>{const e=document.querySelectorAll(".popup");e.forEach(e=>{e.addEventListener("click",l=>{const n=l.target;(n.matches(".overlay")||n.matches(".close_icon")||n.matches(".close-btn"))&&(e.style.display="",t())})});const t=()=>{e.forEach(e=>{e.style.display="";document.querySelectorAll("input").forEach(e=>{e.value="",e.checked=!1})})}};var r=()=>{const e=document.querySelector(".open-popup"),t=document.getElementById("free_visit_form");e.addEventListener("click",()=>{t.style.display="block"}),n()};var o=()=>{const e=document.querySelector(".callback-btn"),t=document.getElementById("callback_form");e.addEventListener("click",()=>{t.style.display="block"}),n()};var c=()=>{const e="Некорректно данные",t=document.querySelectorAll("form"),l=document.getElementById("thanks"),r=document.querySelectorAll('[name="name"]'),o=document.querySelectorAll('[name="phone"]'),c=document.querySelector('.price-message>[name="name"]');r.forEach(e=>{e===c?e.addEventListener("input",()=>{e.value=e.value.replace(/\s/gi,"")}):e.addEventListener("input",()=>{e.value=e.value.replace(/[^а-я\s]/gi,"")})}),o.forEach(e=>{e.addEventListener("input",()=>{e.setAttribute("maxlength","11"),e.value=e.value.replace(/[^0-9+]/g,"")})}),t.forEach((t,r)=>{t.addEventListener("submit",l=>{l.preventDefault();const n=t.querySelector('[type="checkbox"]'),r=t.querySelector('[type="tel"]'),s=t.querySelectorAll('[name="card-type"]'),d=t.querySelectorAll('[name="club-name"]');if(r.value.length<6||!r.value.match(/^((8|\+7)[\-]?)?(\(?\d{3}\)?[\-]?)?[\d\-]{7,10}$/gi))c("Неверный номер телефона",e);else{if("card_order"===t.id||"footer_form"===t.id){const t=[...s],l=[...d],n=e=>!0===e.checked;if(l.length&&!1===l.some(n))return void c("Выберите клуб",e);if(t.length&&!1===t.some(n))return void c("Выберите карту",e)}if(c("Загрузка...","Спасибо"),n&&!0!==n.checked)c("Дайте согласие на обработку ваших данных",e);else{const e=new FormData(t);let l={};console.log(e),e.forEach((e,t)=>l[t]=e),console.log(l),o(l).then(e=>{if(200!==e.status)throw new Error("error");c("Спасибо! Мы с вами скоро свяжимся","Спасибо","Ваша заявка отправлена."),a()}).catch(e=>{c("Спасибо","Что то пошло не так"),a(),console.log(e)})}}});const o=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),c=(e,t,r="")=>{r&&s(),l.style.display="block";const o=l.querySelector(".form-content");o.innerHTML=`\n                <h4>${t}!</h4>\n                <p>${r}\n                <br> ${e}</p>\n                <button class="btn close-btn">OK</button>\n            `,l.querySelector(".form-wrapper").append(o),n()},s=()=>{document.querySelectorAll(".popup").forEach(e=>{e.style.display="";document.querySelectorAll("input").forEach(e=>{e.value="",e.checked=!1})})};let a=()=>{setTimeout(()=>{s()},3e3)}})};var s=()=>{const e=document.querySelector(".fixed-gift"),t=document.getElementById("gift");e&&e.addEventListener("click",()=>{t.style.display="block",e.style.display="none",n()})};var a=()=>{const e=document.querySelectorAll(".main-slider>.slide");let t=0;setInterval(()=>{e[t].style.display="none",t++,t===e.length&&(t=0),e[t].style.display="flex"},3e3)};var d=()=>{const e=document.querySelector(".hidden-large"),t=document.querySelector(".popup-menu"),l=document.querySelector(".top-menu"),n=()=>{l.style.top="",l.style.left="",l.style.width="",l.style.position=""},r=()=>{document.addEventListener("scroll",()=>{l.clientHeight<window.scrollY/3?(l.style.top="0",l.style.left="0",l.style.width="100%",l.style.position="fixed"):l.clientHeight>=window.scrollY/3&&n()})};window.addEventListener("scroll",()=>{if(window.innerWidth<768)r();else if(window.innerWidth>=768)return void n()}),e.querySelector("img").addEventListener("click",()=>{t.style.display="flex"}),t.addEventListener("click",e=>{let l=e.target;(l.matches("img")||l.matches("li")||l.matches("a"))&&(t.style.display="")})};var i=()=>{const e=document.getElementById("totop");e.style.display="none",window.addEventListener("scroll",()=>{window.scrollY>=document.documentElement.clientHeight?e.style.display="block":window.scrollY<document.documentElement.clientHeight&&(e.style.display="none")}),e.addEventListener("click",t=>{t.preventDefault();const l=e.getAttribute("href");document.querySelector(l).scrollIntoView({behavior:"smooth",block:"start"})})};var u=()=>{const e=document.querySelector(".gallery-slider"),t=document.querySelector(".services-slider"),l=document.createElement("div");e.style.position="relative",t.style.position="relative",l.classList.add("prev"),l.classList.add("slider-arrow"),l.innerHTML="\n            <span>\n                <i class='fa fa-angel-left'></i>\n            </span>\n    ",e.append(l);const n=document.createElement("div");n.classList.add("next"),n.classList.add("slider-arrow"),n.innerHTML="\n            <span>\n                <i class='fa fa-angel-right'></i>\n            </span>\n    ",e.append(n)};var y=()=>{const e=document.querySelector(".gallery-slider"),t=e.querySelectorAll(".slide");document.querySelector(".prev"),document.querySelector(".next");t.forEach(e=>{e.style.display="none"});let l=0,n=0;const r=(e,t,l)=>{e[t].style.display=l},o=(e,t,l)=>{e[t].style.display=l};o(t,l,"flex");const c=()=>{r(t,l,"none"),l++,l>=t.length&&(l=0),o(t,l,"flex")};e.addEventListener("click",e=>{let n=e.target;n.closest("arrow")||(r(t,l,"none"),n.closest(".slider-arrow")?l++:n.closest(".prev")&&l--,l>=t.length&&(l=0),l<0&&(l=t.length-1),o(t,l,"flex"))}),e.addEventListener("mouseover",e=>{let t=e.target;t.closest(".slider-arrow")&&(console.log(t),a())}),e.addEventListener("mouseout",e=>{e.target.closest(".slider-arrow")&&s()});const s=()=>{n=setInterval(c,3e3)},a=()=>{clearInterval(n)};s()};var p=()=>{const e=document.querySelector("#card_order"),t=e.querySelectorAll('[name="card-type"]'),l=e.querySelector("#card_leto_mozaika"),n=e.querySelector("#card_leto_schelkovo"),r=e.querySelector('[name="name"]'),o=e.querySelector("#price-total");let c=0;e.addEventListener("change",()=>{l.checked&&(c=!0===t[0].checked?1999:!0===t[1].checked?9900:!0===t[2].checked?13900:!0===t[3].checked?19900:0),n.checked&&(c=!0===t[0].checked?2999:!0===t[1].checked?14900:!0===t[2].checked?21990:!0===t[3].checked?24990:0),"ТЕЛО2019"===r.value&&(c=Math.ceil(.7*c)),o.innerHTML=""+c})};(()=>{const e=document.querySelector(".clubs-list").querySelector("ul"),t=document.querySelector("body");t.addEventListener("click",t=>{let l=t.target;console.log(t),""===e.style.display&&l.matches("p")?e.style.display="block":"block"!==e.style.display||l.matches("ul")||l.matches("li")||(e.style.display="")})})(),n(),r(),o(),c(),s(),a(),d(),i(),u(),y(),p()}]);